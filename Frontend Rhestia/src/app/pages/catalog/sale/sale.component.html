<main class="page-wrapper">
  <!-- Header-->
  <app-header id="top"></app-header>

  <!-- Page container-->
  <div class="container-fluid mt-5 pt-5 p-0">
    <div class="row g-0 mt-n3">
      <!-- Filters sidebar (Offcanvas on mobile)-->
      <aside class="col-lg-4 col-xl-3 border-top-lg border-end-lg shadow-sm px-3 px-xl-4 px-xxl-5 pt-lg-2">
        <div class="offcanvas offcanvas-start offcanvas-collapse" id="filters-sidebar">
          <div class="offcanvas-header d-flex d-lg-none align-items-center">
            <h2 class="h5 mb-0">Filtres</h2>
            <button class="btn-close" type="button" data-bs-dismiss="offcanvas" (click)="SidebarHide()"></button>
          </div>
          <div class="offcanvas-header d-block border-bottom pt-0 pt-lg-4 px-lg-0">
            <ul class="nav nav-tabs mb-0">
              <li class="nav-item"><a class="nav-link " routerLink="/catalog/rent"><i
                class="fi-rent fs-base me-2"></i>Location</a></li>
              <li class="nav-item"><a class="nav-link active" routerLink="/catalog/sale"><i
                class="fi-home fs-base me-2"></i>Vente</a></li>
            </ul>
          </div>
          <form >
            <div class="offcanvas-body py-lg-4">
              <div class="pb-4 mb-2">
                <h3 class="h6">Region</h3>
                <select class="form-select mb-2" id="vente" name="region"(change)="getAllSales()">
                  <option disabled selected> Choisir une region</option>
                  <option value="TUNIS" >TUNIS</option>
                  <option value="ARIANA">ARIANA</option>
                  <option value="BEN_AROUS">BEN_AROUS</option>
                  <option value="MANOUBA">MANOUBA</option>
                  <option value="NABEUL">NABEUL</option>
                  <option value="ZAGHOUAN">ZAGHOUAN</option>
                  <option value="BIZERTE">BIZERTE</option>
                  <option value="BEJA">BEJA</option>
                  <option value="JENDOUBA">JENDOUBA</option>
                  <option value="KEF">KEF</option>
                  <option value="SILIANA">SILIANA</option>
                  <option value="SOUSSE">SOUSSE</option>
                  <option value="MONASTIR">MONASTIR</option>
                  <option value="MAHDIA">MAHDIA</option>
                  <option value="SFAX">SFAX</option>
                  <option value="KAIROUAN">KAIROUAN</option>
                  <option value="KASSERINE">KASSERINE</option>
                  <option value="SIDI_BOUZID">SIDI_BOUZID</option>
                  <option value="GAFSA">GAFSA</option>
                  <option value="TOZEUR">TOZEUR</option>
                  <option value="KEBILI">KEBILI</option>
                  <option value="GABES">GABES</option>
                  <option value="MEDENINE">MEDENINE</option>
                  <option value="TATAOUINE">TATAOUINE</option>
                </select>
              </div>
              <div class="pb-4 mb-2 simplebar-scroll-show">
                <h3 class="h6">Type du bien</h3>
                <ngx-simplebar style="height: 11rem;" class="overflow-auto">
                  <div class="form-check">
                    <input class="form-check-input" type="radio" id="house" value="Maison"
                           (change)="getAllSales()">
                    <!--                         (change)="changeProperty($event,'Maison')">-->
                    <label class="form-check-label fs-sm" for="house">Maison</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" id="apartment" value="Appartment"
                           (change)="getAllSales()">
                    <!--                         (change)="changeProperty($event,'Appartement')">-->
                    <label class="form-check-label fs-sm" for="apartment">Appartement</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" id="room" value="Immeuble"
                           (change)="getAllSales()">
                    <!--                         (change)="changeProperty($event,'Immeuble')">-->
                    <label class="form-check-label fs-sm" for="room">Immeuble</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" id="office" value="Local"
                           (change)="getAllSales()">
                    <!--                         (change)="changeProperty($event,'Local')">-->
                    <label class="form-check-label fs-sm" for="office">Local</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" id="commercial" value="Terrain"
                           (change)="getAllSales()">
                    <!--                         (change)="changeProperty($event,'Terrain')">-->
                    <label class="form-check-label fs-sm" for="commercial">Terrain</label>
                  </div>

                  <div class="form-check">
                    <input class="form-check-input" type="radio" id="daily" value="Ferme"
                           (change)="getAllSales()">
                    <!--                         (change)="changeProperty($event,'Ferme')">-->
                    <label class="form-check-label fs-sm" for="daily">Ferme</label>
                  </div>
                </ngx-simplebar>
              </div>
              <div class="pb-4 mb-2">
                <h3 class="h6">Prix par mois</h3>
                <div class="range-slider" data-start-min="1100" data-start-max="3000" data-min="200" data-max="5000"
                     data-step="100">
                  <ngx-slider [(value)]="minValue" [(highValue)]="maxValue" [options]="options"
                              (valueChange)="valueChange($event,true)" (highValueChange)="valueChange($event,false)"></ngx-slider>
                  <div class="d-flex align-items-center">
                    <div class="w-50 pe-2">
                      <div class="input-group"><span class="input-group-text fs-base">DT</span>
                        <input class="form-control range-slider-value-min" type="text" value="{{minValue}}">
                      </div>
                    </div>
                    <div class="text-muted">&mdash;</div>
                    <div class="w-50 ps-2">
                      <div class="input-group"><span class="input-group-text fs-base">DT</span>
                        <input class="form-control range-slider-value-max" type="text" value="{{maxValue}}">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!--            <div class="pb-4 mb-2">-->
              <!--              <h3 class="h6 pt-1">Chambres &amp; Salles de bain</h3>-->
              <!--              <label class="d-block fs-sm mb-1">Nombre de chambre</label>-->
              <!--              <div class="btn-group btn-group-sm" role="group" aria-label="Choisir le nombre de chambres">-->
              <!--                <input class="btn-check" type="radio" id="studio" name="bedrooms">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="studio">0</label>-->
              <!--                <input class="btn-check" type="radio" id="bedrooms-1" name="bedrooms" (click)="bedrooms('1');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bedrooms-1">1</label>-->
              <!--                <input class="btn-check" type="radio" id="bedrooms-2" name="bedrooms" (click)="bedrooms('2');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bedrooms-2">2</label>-->
              <!--                <input class="btn-check" type="radio" id="bedrooms-3" name="bedrooms" (click)="bedrooms('3');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bedrooms-3">3</label>-->
              <!--                <input class="btn-check" type="radio" id="bedrooms-4" name="bedrooms" (click)="bedrooms('4');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bedrooms-4">4</label>-->
              <!--                <input class="btn-check" type="radio" id="bedrooms-5" name="bedrooms" (click)="bedrooms('5');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bedrooms-5">5</label>-->
              <!--              </div>-->
              <!--              <label class="d-block fs-sm pt-2 my-1">Nombre de salles de bain</label>-->
              <!--              <div class="btn-group btn-group-sm" role="group" aria-label="Choisir le nombre de salles de bain">-->
              <!--                <input class="btn-check" type="radio" id="bathrooms-1" name="bathrooms" (click)="bathrooms('1');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bathrooms-1">1</label>-->
              <!--                <input class="btn-check" type="radio" id="bathrooms-2" name="bathrooms" (click)="bathrooms('2');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bathrooms-2">2</label>-->
              <!--                <input class="btn-check" type="radio" id="bathrooms-3" name="bathrooms" (click)="bathrooms('3');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bathrooms-3">3</label>-->
              <!--                <input class="btn-check" type="radio" id="bathrooms-4" name="bathrooms" (click)="bathrooms('4');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bathrooms-4">4</label>-->
              <!--                <input class="btn-check" type="radio" id="bathrooms-5" name="bathrooms" (click)="bathrooms('5');">-->
              <!--                <label class="btn btn-outline-secondary fw-normal" for="bathrooms-5">5</label>-->
              <!--              </div>-->
              <!--            </div>-->
              <div class="pb-4 mb-2">
                <h3 class="h6 pt-1">Surface en m²</h3>
                <div class="d-flex align-items-center">
                  <input class="form-control w-100" type="number" min="20" max="500" step="10" placeholder="Min"
                         id="minValue" (keyup)="metresSearch()">
                  <div class="mx-2">&mdash;</div>
                  <input class="form-control w-100" type="number" min="20" max="500" step="10" placeholder="Max"
                         id="maxValue" (keyup)="metresSearch()">
                </div>
              </div>
              <!--            <div class="pb-4 mb-2 simplebar-scroll-show">-->
              <!--              <h3 class="h6">Autres</h3>-->
              <!--              <ngx-simplebar style="height: 11rem;" class="overflow-auto">-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="air-condition"-->
              <!--                         (click)="AmenitiesFilter($event,'air-condition')">-->
              <!--                  <label class="form-check-label fs-sm" for="air-condition">Air conditioning</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="balcony"-->
              <!--                         (click)="AmenitiesFilter($event,'balcony')">-->
              <!--                  <label class="form-check-label fs-sm" for="balcony">Balcony</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="garage"-->
              <!--                         (click)="AmenitiesFilter($event,'garage')">-->
              <!--                  <label class="form-check-label fs-sm" for="garage">Garage</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="gym" (click)="AmenitiesFilter($event,'gym')">-->
              <!--                  <label class="form-check-label fs-sm" for="gym">Gym</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="parking"-->
              <!--                         (click)="AmenitiesFilter($event,'parking')">-->
              <!--                  <label class="form-check-label fs-sm" for="parking">Parking</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="pool" (click)="AmenitiesFilter($event,'pool')">-->
              <!--                  <label class="form-check-label fs-sm" for="pool">Pool</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="camera"-->
              <!--                         (click)="AmenitiesFilter($event,'camera')">-->
              <!--                  <label class="form-check-label fs-sm" for="camera">Security cameras</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="wifi" (click)="AmenitiesFilter($event,'wifi')">-->
              <!--                  <label class="form-check-label fs-sm" for="wifi">WiFi</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="laundry"-->
              <!--                         (click)="AmenitiesFilter($event,'laundry')">-->
              <!--                  <label class="form-check-label fs-sm" for="laundry">Laundry</label>-->
              <!--                </div>-->
              <!--                <div class="form-check">-->
              <!--                  <input class="form-check-input" type="checkbox" id="dishwasher"-->
              <!--                         (click)="AmenitiesFilter($event,'dishwasher')">-->
              <!--                  <label class="form-check-label fs-sm" for="dishwasher">Dishwasher</label>-->
              <!--                </div>-->
              <!--              </ngx-simplebar>-->
              <!--            </div>-->
              <!--            <div class="pb-4 mb-2">-->
              <!--              <h3 class="h6">Pets</h3>-->
              <!--              <div class="form-check">-->
              <!--                <input class="form-check-input" type="checkbox" id="allow-cats"-->
              <!--                       (click)="PentsFilter($event,'allow-cats')">-->
              <!--                <label class="form-check-label fs-sm" for="allow-cats">Cats allowed</label>-->
              <!--              </div>-->
              <!--              <div class="form-check">-->
              <!--                <input class="form-check-input" type="checkbox" id="allow-dogs"-->
              <!--                       (click)="PentsFilter($event,'allow-dogs')">-->
              <!--                <label class="form-check-label fs-sm" for="allow-dogs">Dogs allowed</label>-->
              <!--              </div>-->
              <!--            </div>-->
              <!--            <div class="pb-4 mb-2">-->
              <!--              <h3 class="h6">Autres</h3>-->
              <!--              <div class="form-check">-->
              <!--                <input class="form-check-input" type="checkbox" id="verified"-->
              <!--                       (click)="additionalOptions($event,'Verified')">-->
              <!--                <label class="form-check-label fs-sm" for="verified">Verified</label>-->
              <!--              </div>-->
              <!--              <div class="form-check">-->
              <!--                <input class="form-check-input" type="checkbox" id="featured"-->
              <!--                       (click)="additionalOptions($event,'Featured')">-->
              <!--                <label class="form-check-label fs-sm" for="featured">Featured</label>-->
              <!--              </div>-->
              <!--            </div>-->
              <div class="border-top py-4">
                <button class="btn btn-outline-primary" type="reset" (click)="getAllSales();"><i class="fi-rotate-right me-2"></i>Réinitialiser les filtres</button>
              </div>
            </div>
          </form>
        </div>
      </aside>
      <!-- Page content-->
      <div class="col-lg-8 col-xl-9 position-relative overflow-hidden pb-5 pt-4 px-3 px-xl-4 px-xxl-5">
        <!-- Map popup-->
        <div class="map-popup invisible" id="map">
          <button class="btn btn-icon btn-light btn-sm shadow-sm rounded-circle" type="button"
                  data-bs-toggle-class="invisible" data-bs-target="#map" (click)="closeMapModel()"><i
            class="fi-x fs-xs"></i></button>
          <agm-map [latitude]="latitude" [longitude]="longitude" class="interactive-map rounded-3"
                   style="height: 100%"></agm-map>
        </div>
        <!-- Breadcrumb-->
        <app-breadcrumbs [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
        <!-- Title-->
        <div class="d-sm-flex align-items-center justify-content-between pb-3 pb-sm-4">
          <h1 class="h2 mb-sm-0">Vente</h1><a class="d-inline-block fw-bold text-decoration-none py-1"
                                                 href="javascript:void(0);" data-bs-toggle-class="invisible" data-bs-target="#map"
                                                 (click)="openMapModal()"><i class="fi-map me-2"></i>Consulter la carte</a>
        </div>
        <!-- Sorting-->
        <div class="d-flex flex-sm-row flex-column align-items-sm-center align-items-stretch my-2">
          <div class="d-flex align-items-center flex-shrink-0">
            <label class="fs-sm me-2 pe-1 text-nowrap" for="sortby"><i
              class="fi-arrows-sort text-muted mt-n1 me-2"></i>Sort by:</label>
            <select class="form-select form-select-sm" id="sortby" (click)="SortFilter();">
              <option value="Dprice">Du plus cher au moins cher</option>
              <option value="Aprice">Du moins cher au plus cher</option>
              <!--              <option value="Dbad">High rating</option>-->
              <!--              <option value="Abad">Average Rating</option>-->
            </select>
          </div>
          <hr class="d-none d-sm-block w-100 mx-4">
          <div class="d-none d-sm-flex align-items-center flex-shrink-0 text-muted"><i
            class="fi-check-circle me-2"></i><span class="fs-sm mt-n1">{{dataCount}} résultats</span></div>
        </div>
        <!-- Catalog grid-->
        <div class="row g-4 py-4">
          <!-- Item-->
          <div class="col-sm-6 col-xl-4" *ngFor="let venteAnnonces of annonceDetails ">
            <div class="card shadow-sm card-hover border-0 h-100">
              <div class="tns-carousel-wrapper card-img-top card-img-hover"><a class="img-overlay"
                                                                               routerLink="/catalog/single-v2"></a>
                <div class="content-overlay end-0 top-0 pt-3 pe-3">
                  <button class="btn btn-icon btn-light btn-xs text-primary rounded-circle" type="button"
                          placement="left" ngbTooltip="Add to Wishlist"><i class="fi-heart"></i></button>
                </div>
<!--                <swiper [config]="config">-->
<!--                  <div class="swiper-wrapper">-->
<!--                    <div class="swiper-slide" *ngFor="let data of venteAnnonces.image">-->
<!--                      <img src="{{venteAnnonces.img}}" alt="Image" class="h-100">-->
<!--                    </div>-->
<!--                  </div>-->
<!--                </swiper>-->
                <div class="swiper-wrapper">
                  <div class="swiper-slide" >
                    <img [src]="images[annonceDetails.indexOf(venteAnnonces)]" alt="Image" class="h-100">
                  </div>
                </div>
              </div>
              <div class="card-body position-relative pb-3">
                <h4 class="mb-1 fs-xs fw-normal text-uppercase text-primary">{{venteAnnonces.categorie}}</h4>
                <h3 class="h6 mb-2 fs-base"><a class="nav-link stretched-link"
                                               routerLink="/catalog/single-v2">{{venteAnnonces.titre}}</a></h3>
                <p class="mb-2 fs-sm text-muted">
                  <i class="fi-map-pin ms-1 mt-n1 fs-lg text-muted"></i>
                  {{venteAnnonces.adresse}},{{venteAnnonces.ville}},{{venteAnnonces.region}}</p>

                <div class="fw-bold"><i class="fi-cash mt-n1 me-2 lead align-middle opacity-70"></i>{{venteAnnonces.prix}}</div>
              </div>

              <div *ngIf="venteAnnonces.type_Annonce === 'Appartement' then AutreAppartement"></div>
              <ng-template #AutreAppartement>
                <div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">
                <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.nbrChambresAppartement}}<i
                  class="fi-bed ms-1 mt-n1 fs-lg text-muted"></i>
                </span>
                  <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.nbrSalleDeBainAppartement}}<i
                    class="fi-bath ms-1 mt-n1 fs-lg text-muted"></i>
                </span>
                </div>
              </ng-template>

              <div *ngIf="venteAnnonces.type_Annonce === 'Maison' then AutreMaison"></div>
              <ng-template #AutreMaison>
                <div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">
                <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.nbrChambresMaison}}<i
                  class="fi-bed ms-1 mt-n1 fs-lg text-muted"></i>
                </span>
                  <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.nbrSalleDeBainMaison}}
                    <i class="fi-bath ms-1 mt-n1 fs-lg text-muted"></i>
                </span>
                </div>
              </ng-template>

              <div *ngIf="venteAnnonces.type_Annonce === 'Ferme' then AutreFerme"></div>
              <ng-template #AutreFerme>
                <div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">
                <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.maisonFerme}}<i
                  class="fi-house-chosen ms-1 mt-n1 fs-lg text-muted"></i>
                </span>
                </div>
              </ng-template>

              <div *ngIf="venteAnnonces.type_Annonce === 'Immeuble' then AutreImmeuble"></div>
              <ng-template #AutreImmeuble>
                <div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">
                <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.nbrEtagesImmeuble}}<i
                  class="fi-building ms-1 mt-n1 fs-lg text-muted"></i>
                </span>
                  <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.nbrPiecesImmeuble}}<i
                    class="fi-real-estate-house ms-1 mt-n1 fs-lg text-muted"></i>
                </span>
                </div>
              </ng-template>

              <div *ngIf="venteAnnonces.type_Annonce === 'Local' then AutreLocal"></div>
              <ng-template #AutreLocal>
                <div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">
                  <i class="fi-ticket ms-1 mt-n1 fs-lg text-muted"></i>
                  <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.typeLocal}}
                </span>
                </div>
              </ng-template>

              <div *ngIf="venteAnnonces.type_Annonce === 'Terrain' then AutreTerrain"></div>
              <ng-template #AutreTerrain>
                <div class="card-footer d-flex align-items-center justify-content-center mx-3 pt-3 text-nowrap">
                <span class="d-inline-block mx-1 px-2 fs-sm">{{venteAnnonces.typeTerrain}}
                </span>
                </div>
              </ng-template>
            </div>
          </div>
        </div>
         Pagination
                <nav class="border-top pb-md-4 pt-4 mt-2" aria-label="Pagination">
                  <ul class="pagination mb-1">
                    <li class="page-item d-sm-none"><span class="page-link page-link-static">1 / 5</span></li>
                    <li class="page-item active d-none d-sm-block" aria-current="page"><span class="page-link">1<span
                          class="visually-hidden">(current)</span></span></li>
                    <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">2</a></li>
                    <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">3</a></li>
                    <li class="page-item d-none d-sm-block">...</li>
                    <li class="page-item d-none d-sm-block"><a class="page-link" href="javascript:void(0);">8</a></li>
                    <li class="page-item"><a class="page-link" href="javascript:void(0);" aria-label="Next"><i
                          class="fi-chevron-right"></i></a></li>
                  </ul>
                </nav>
      </div>
    </div>
  </div>

</main>
<!-- Footer-->
<app-footer></app-footer>

<!-- Filters sidebar toggle button (mobile)-->
<button class="btn btn-primary btn-sm w-100 rounded-0 fixed-bottom d-lg-none" type="button" data-bs-toggle="offcanvas"
        data-bs-target="#filters-sidebar" (click)="FilterSidebar()"><i class="fi-filter me-2"></i>Filters</button>
<div class="vertical-overlay" (click)="SidebarHide()"></div>
